開発運用ルール（必読・固定）
目的

このプロジェクトは Codex（AI支援）を活用しつつ、最終的な正しさはローカル環境で保証する ことを目的とする。
AIの提案を鵜呑みにせず、再現可能・検証可能な状態のみを「完了」と定義する。

1. 開発環境の唯一の正解（Single Source of Truth）
✅ 正式ルール

唯一の正しい実装状態は、WSL（Ubuntu/Linux）上のローカル環境

以下が揃って初めて「実装完了」とみなす：

WSL上の git log に該当コミットが存在する

WSL上で pytest -q が green

必要に応じて python main.py 等が実行できる

❌ 認めないもの

Codex / ChatGPT が

「実装した」「コミットした」「テスト通った」
と文章で言っているだけの状態

GitHub UI 上の説明文のみで、ローカル確認が取れていない状態

2. Codex（AI）の役割定義
Codexがやってよいこと

設計案の提示

修正方針の提案

差分（diff）案の生成

テストケース案の作成

作業手順の整理

Codexができない／信用してはいけないこと

ローカルWSL環境の直接編集

ローカルGit履歴の確定

「完了した」という自己申告

👉 Codexの出力はすべて「提案（案）」として扱う

3. 作業フロー（毎回これに従う）

設計・方針

Codex Ask で「何を直すか」を明確化

実装案

Codex Code で差分案を出させる

反映・検証（必須）

WSLでコードを確認

git log

pytest -q

ここで初めて「完了」

※ ③が抜けているものは、未完了。

4. 方針確認ルール（ChatGPTが怪しい時）

以下の状況では、必ず立ち止まってこの文書を確認する：

新しいチャットに切り替わった

日をまたいだ

ChatGPTが以前と違う方針を言い出した

「もう終わってる」「次に進める」と急かされた

確認チェックリスト

 WSLの git log にコミットはあるか？

 pytest -q は通っているか？

 これは Codex案 か 確定実装 か？

1つでもNOなら 未確定。

5. 方針変更について

方針変更は 明示的に宣言された場合のみ有効

「なんとなく」「流れで」変わることはない

方針変更時は：

何が変わるか

なぜ変えるか

何が変わらないか
を文章で確認する

6. この文書の位置づけ

この文書は 開発中の最上位ルール

ChatGPT / Codex / README の他記述より 優先される

将来の混乱時の 判断基準・証拠 として使う

7. まとめ（短縮版）

真実はWSLにある

Codexは提案者、確定者ではない

git log + pytest が通って初めて完了

怪しい時はこの文書に戻る
